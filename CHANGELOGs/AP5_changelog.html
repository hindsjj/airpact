<!DOCTYPE html><html><head>
      <title>AP5_changelog</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////Users/vonw/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.5.22/node_modules/@shd101wyy/mume/dependencies/katex/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="airpact-5-change-log">AIRPACT-5 Change Log</h1>

<table>
<thead>
<tr>
<th>Date</th>
<th>Person</th>
<th>Description</th>
<th>Component Model</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>July 13, 2021</td>
<td>Joe Vaughan</td>
<td>Modified FIS url to request median fire area instead of mean fire area</td>
<td>scripting in ~/AIRHOME/run_ap5_day1/emis/fire_new/airpact_FIS_exec.csh</td>
<td>changed &apos;mean&apos; to &apos;median&apos; in the url for FIS.</td>
</tr>
<tr>
<td>June 17, 2021</td>
<td>Joe Vaughan</td>
<td>AIRPACT failed on segmentation error in CMAQ on 16th and 17th.</td>
<td>CMAQ</td>
<td>UW folks report record-breaking (anomalous) values in vertical velocity, apparently causing some CFL constraint/limit violations. Testing shows CMAQ code is OK, and hardware not an issue. Current working hypothesis is that CMAQ suffered a CFL violation that prevented convergence in a numerical solution. CMAQ failed, for the 16th, and for the 17th.</td>
</tr>
<tr>
<td>June 9, 2021</td>
<td>Susan O&apos;Neill and Farren Herron-Thorpe</td>
<td>BlueSky was updated to reduce excess fire detects</td>
<td>BlueSky as accessed by AIRPACT via Synchronicity</td>
<td>Farren pointed out excessive fire detects. Susan (USDA-FS) found too many GOES-16 detections. The GOES-16 detection data was not being filtered appropriately. Amy implemented a fix that will be there for the data as of 6/9. The fix will apply to yesterday&#x2019;s detection data (June 8) going forward. There might still be a few extra detections coming through until the dropout logic (which goes back 3-4 days) catches up.</td>
</tr>
<tr>
<td>April 7, 2021</td>
<td>Joe Vaughan</td>
<td>Transfer of MCIP files changed from scp to rsync</td>
<td>on rainier, in ~empact/airpact5/AIRHOME/mcip, these files mcip5.1_AP5_37_DAY1.csh mcip5.1_AP5_37_DAY2.csh scp_MCIP5.1_37_DAY2.csh scp_MCIP5.1_37_DAY1.csh</td>
<td>changed scp of MCIP files to rsync</td>
</tr>
<tr>
<td>February 10, 2021</td>
<td>Joe Vaughan</td>
<td>Adapting to Lockdown of CENTOS 6 system Aeolus w/ VPN</td>
<td>requirement for VPN for access or Whitelisting</td>
<td>After GlobalProtect VPN recommended by Sys Admin, and testing VPN for UW access to WSU Aeolus, got UW system Rainier whitelisted. Aeolus users off-campus need VPN,</td>
</tr>
<tr>
<td>January 3, 2021</td>
<td>Joe Vaughan</td>
<td>Corrected master4all scripts to create DONE dirs</td>
<td>~airpact5/AIRHOME/run_ap5_day*/master4all.csh</td>
<td>Post processing gives a bad status if it fails to. write a date-named token to DONE dir for the year. Modified the master4all.csh scripts to check on AIRRUN*/YYYY/DONE and mkdir if DONE is missing.</td>
</tr>
<tr>
<td>December 10, 2020</td>
<td>Farren Herron-Thorpe</td>
<td>EI Update for Point and Nonpoint to 2017 NEI</td>
<td>Emissions Inventory</td>
<td>The AIRPACT-5 EI was updated to 2017 NEI for point and nonpoint on December 11, 2020. Nonpoint fugitive dust (afdust) was removed from western OR/WA to remain consistent with the previous EI. On-road emissions and Canada emissions were not updated. Dec. 11 forecast is first day with new EI.</td>
</tr>
<tr>
<td>October 12, 2020</td>
<td>Joe Vaughan</td>
<td>Updated DAY2 scripting to use WACCM-derived BCON</td>
<td>in AIRHOME/run_ap5_day2/blueprints/blueprint_qsub_precctm_FixMCIP5.1.txt</td>
<td>Modified blueprint_qsub_precctm_FixMCIP5.1.txt so that submit_precctm_day2.csh would generate a qsub4precctm.csh that will cause a link to WACCM-bcon to be used for day2 BCON.</td>
</tr>
<tr>
<td>October 7, 2020</td>
<td>Joe Vaughan</td>
<td>updated CCTM site extraction to v10</td>
<td>AIRHOME/run_ap5_day{1-2}/post/cctm/run_site_extract_airpact_v10.csh</td>
<td>Updated to v10 script, which uses python, to solve problem with illegal formats for big forecast values, which were causing performance chart failures, particularly during wildfires.</td>
</tr>
<tr>
<td>August 25, 2020</td>
<td>Joe Vaughan</td>
<td>Migration from SMARTFIRE &amp; BLUESKY to FIS &amp; BSP</td>
<td>qsub4FIS-BSP.csh and qsub4fireemis.csh</td>
<td>USFS (Susan O&apos;Neill) provided us with the Fire Information System &amp; BlueSky Pipeline update, distributed as a Docker image. We implemented FIS-BSP using Singularity in the Aeolus AIRPACT5 account. The new qsub4FIS-BSP.csh script is called by cron and replaces the previous BlueSky call. The qsub4fireemis.csh script runs SMOKE the same as before, but with a revised scripting that requires more lookups (FIPS, VEG, etc.) since the new fire_locations.csv files only include fire size, location, and FCCS ID. The 8/21/2020 forecast was the first using the new setup. Dividing fire size by 3 was reimplemented after several days of overprediction of fire emissions in the new system.</td>
</tr>
<tr>
<td>August 20, 2020</td>
<td>Joe Vaughan</td>
<td>Noting WRF change at UW for smoke</td>
<td>WRF</td>
<td>Beginning with the 2020082012 run, all WRF-GFS domains will be using aerosol optical depth and the aerosol angstrom exponent fields from NASA&apos;s GEOS system. Three-hourly values of these parameters will be used in WRF to interact with the radiation scheme in an effort to incorporate the temperature effects of smoke. See this page for more information. These aerosol effects are scheduled to be turned back off with the 2020100100 run though they may be turned off earlier if smoke conditions over the Pacific Northwest improve substantially.</td>
</tr>
<tr>
<td>May 26, 2020</td>
<td>Jen Hinds</td>
<td>Fixed a problem with performance charts</td>
<td>Performance Charting</td>
<td>In order to build a master list of AIRNow sites w/in the AP5 domain, I rely on results extracted daily over the course of a year. In some cases, my code only needs the unique AQSID -- so I concatenate AQSID for all days, sort, and extract unique values. But the files I provide for daily AIRNow site extraction include: AQSID, Site Name, Lat, Lon. When site name or coordinates change, but the AQSID stays the same, some duplication occurs -- which ultimately leads to problems downstream in the code. To fix the problem, I added code (applied during aggregation) to explicitly ignore 3 antiquated AIRNow site names and 2 sets of coordinates.</td>
</tr>
<tr>
<td>April 27, 2020</td>
<td>Joe Vaughan</td>
<td>Scripting added to enforce DAY1 CCTM running before DAY2 CCTM.</td>
<td>Blueprint files for qsub4precctm.csh and qsub4cctm.csh for DAY1, and for DAY2, master4all.csh.</td>
<td>To enforce requirement that DAY2 CCTM job starts after start of DAY1 CCTM job, * DAY1 precctm job deletes file CURRENTJOBID.txt so it cannot be found between start of runs and when DAY1 CCTM starts. -- That is coded in blueprint_qsub_precctm_WACCM-bcon_FixMCIP5.1.txt to occur in the qsub4precctm.csh script: -- rm -f ~/AIRHOME/run_ap5_day1/CURRENTJOBID.txt * * When DAY1 is starting the run_cctm script, it does: -- echo <span style="color: #ee7f49; font-weight: 500;">ParseError: KaTeX parse error: Expected &apos;EOF&apos;, got &apos;&amp;&apos; at position 12: PBS_JOBID &gt;&amp;&#x332;!</span>AIRHOME/run_ap5_day1/CURRENTJOBID.txt -- This is coded in blueprint_qsub_cctm.txt. * master4all_day2 checks for CURRENTJOBID.txt as insurance that DAY1 CCTM has started (or even has already run) ... before allowing DAY2 CCTM to start.</td>
</tr>
<tr>
<td>April 23, 2020</td>
<td>Joe Vaughan</td>
<td>Modified DAY2 run_cctm.csh to wait longer, and added 3 h to walltime</td>
<td>DAY2 cctm/run_cctm.csh and blueprint fir for qsub4cctm.csh</td>
<td>Modified DAY2 script at ~/AIRHOME/run_ap5_day2/cctm/run_cctm.csh to wait longer (6 h instead of 3 h) and modified the plueprint file used to generate the qsub4cctm.csh to add 3 h to walltime.</td>
</tr>
<tr>
<td>March 17, 2020</td>
<td>Joe Vaughan</td>
<td>Run failure caused by misplaced files, resulting from testing effort.</td>
<td>Files expected at AIRRUN/2020/2020031600/POST/CCTM were not found. Resolved.</td>
<td>Output files from 20200316 were moved to allow for some testing involving a rerun of CMAQ, but not restored in a timely way to where they were expected.</td>
</tr>
<tr>
<td>March 9, 2020</td>
<td>Joe Vaughan</td>
<td>Bug with run of day2 post cctm processing</td>
<td>qsub4postcctm.csh in ~/AIRHOME/run_ap5_day2</td>
<td>IF postcctm throws an error msg into LOGS/errorlog.txt, when an attempt is made to rerun qsub4postcctm.csh, the script run_check4postcctmerrors.csh still finds &apos;error&apos; even though the second postcctm attempt was successful. Not sure of the best fix, yet.</td>
</tr>
<tr>
<td>February 19, 2020</td>
<td>Jen Hinds &amp; Farren Herron-Thorpe</td>
<td>Added perimeters for Tribal Reservation Perimeters (&amp; trust lands) to Misc Overlays under LAYERS tab.</td>
<td>AIRPACT Webpage at <a href="http://lar.wsu.edu/airpact/gmap/ap5/ap5.html">http://lar.wsu.edu/airpact/gmap/ap5/ap5.html</a></td>
<td>Jen added perimeters, prepared by Farren, for Tribal Reservation (&amp; trust lands) Perimeters to Misc Overlays options under LAYERS tab.</td>
</tr>
<tr>
<td>February 19, 2020</td>
<td>Joe Vaughan</td>
<td>WFR update to V4.1.3 caused problems and fixes were applied</td>
<td>MCIPv5.1; See ~/AIRHOME/build/MCIP5.1_fix_VGTYPto7/README</td>
<td>As of Weds 2/19/20, the operational WRF GFS code used by AIRPACT (i.e. the run for 20200219) was updated by UW Atmo Sci to WRF V4.1.3. This caused the failure of MCIPv4.3, which said it couldn&apos;t handle WRF v4+. JKV updated MCIP to use MCIPv5.1, and the run for 20200219 was tried again. This time there was failure of LAYPOINT, a SMOKE v3.5.1 routine computing plume rise and vertical emissions distribution. A temporary solution, until I figure out how to get MCIP parameters set correctly, is to force VGTYP = 7. See ~/AIRHOME/build/MCIP5.1_fix_VGTYPto7/README</td>
</tr>
<tr>
<td>February 18, 2020</td>
<td>Joe Vaughan and Jen Hinds</td>
<td>AP5 webpage updates</td>
<td>Google Maps and ~/AIRRUN/AIRPACT5_WEB_NOTE</td>
<td>1) DAY2 DONE times now captured by writes to ~/AIRRUNDAY2/2020/DONE; 2) Jen Hinds added Lat/Long reporter for cursor position, at lower right of GMAP-animated images; 3) New content has been provided for tabs under Intro to AIRPACT; 4) Updated ~/AIRRUN/AIRPACT5_WEB_NOTE/airpact5_note.txt to say: &apos;See new content under Intro to AIRPACT&apos; and &apos;Try new Lat/Long read-out for cursor position located below animated maps on the right.&apos;</td>
</tr>
<tr>
<td>February 4, 2020</td>
<td>Joe Vaughan</td>
<td>Added recording DONE times for DAY2</td>
<td>~/AIRHOME/run_ap5_day2/check4errors/run_check4postcctmerrors.csh</td>
<td>Added write of time of DAY2 completion to directory at AIRRUNDAY2/YYYY/DONE/YYYYMMDD00. This duplicates reporting for DAY1.</td>
</tr>
<tr>
<td>January 17, 2020</td>
<td>Joe Vaughan and Jen Hinds</td>
<td>Bug preventing day2 animation display was fixed.</td>
<td>AIRPACT5 website display of acquired DAY2 imagery.</td>
<td>A bug was reported during the AIRPACT Zoom call of 1/17/20, that AIRPACT5 animations were failing to show day2 results, in spite of the fact that the logging below the display showed that day2 imagery was acquired. This bug was reported to Jen Hinds and she found and corrected the bug on 1/17/20.</td>
</tr>
<tr>
<td>January 15, 2020</td>
<td>Joe Vaughan</td>
<td>C-shell script edits to prevent bug stopping day2 post processing.</td>
<td>master4all.csh and master4all_day2.csh</td>
<td>To strictly enforce proper execution order of the day1 postcctm and day2 postcctm jobs, JKV edited the master4all.csh, master4all_day2.csh, and submit_postcctm_day2.csh scripts. When master4all.csh runs the submit_postcctm (day1) job, the job ID # is stored in a file POSTCCTM_JobID.txt. If/when master4all_day2.csh finds the file POSTCCTM_JobID.txt, it reads the job ID # and adds the # as an argument when submit_ postcctm_day2.csh runs. That submit script qsub(mits) the qsub4postcctm_day2.csh job to run after the day1 postcctm processing completes, using the form &#x201C;qsub -V -W depend=afterok:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>r</mi><mi>u</mi><mi>n</mi><mi>i</mi><mi>d</mi><mn>0</mn></mrow><mo>:</mo></mrow><annotation encoding="application/x-tex">{runid0}:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">ni</span><span class="mord mathnormal">d</span><span class="mord">0</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span></span></span></span>{runid1} $qsubfile&#x201D;.</td>
</tr>
<tr>
<td>October 29, 2019</td>
<td>Farren Herron-Thorpe</td>
<td>Turned Area Fugitive Dust back on</td>
<td></td>
<td>Should not have turned off Area Fugitive Dust earlier</td>
</tr>
<tr>
<td>October 17, 2019</td>
<td>Farren Herron-Thorpe</td>
<td>Turned off area fugitive dust emissions for wet season.</td>
<td>Area Source Emissions</td>
<td>Turned off area fugitive dust emissions for wet season. Will turn back on in spring.</td>
</tr>
<tr>
<td>July 2, 2019</td>
<td>Farren Herron-Thorpe</td>
<td>Separated Western/Eastern OR/WA Fugitive Dust Input Files</td>
<td>Area Source Emissions</td>
<td>Area fugitive dust input files were split so that counties in western Oregon and Washington are in separate files. This allows area fugitive dust to be turned on for the rest of the domain, while leaving dust off in Western WA/OR (where we overpredict PM2.5). Moving forward, area fugitive dust for Western WA/OR is not included as an input (even during summer).</td>
</tr>
<tr>
<td>July 2, 2019</td>
<td>Farren Herron-Thorpe</td>
<td>Turned on fugitive dust sector</td>
<td>Area Source Emissions</td>
<td>Turned back on fugitive dust now that rainy season is over.</td>
</tr>
<tr>
<td>June 28, 2019</td>
<td>Joe Vaughan</td>
<td>further work on WACCM to BCON from June 27th.</td>
<td>run_waccm2bcon_py2_10step_fs.csh</td>
<td>email: Today Farren noted anomalous levels of PM2.5 on the model&apos;s western boundary. BCON for CMAQ in AIRPACT5 comes from the NCAR WACCM model operation. WACCM has not been running this week, due to system downtime, as we were informed somewhat belatedly, and so we&#x2019;re about at the end of available files for BCON use. So, yesterday I modified the AIRPACT5 WACCM to BCON code to recognize if any of the three required WACCM files were missing, in which case the new BCON would simply be a re-dated version of the previous day&#x2019;s AIRPACT5 BCON. Today&#x2019;s run found all three required files. But, I find that the WACCM forecast file(s) were short some timesteps, and this caused an index error in the python code. And so today&#x2019;s BCON was not properly generated from the WACCM inputs; the BCON file we ran with was thus bogus. I&#x2019;m going to generate a BCON file by re-dating yesterday&#x2019;s BCON and rerun CMAQ. I&#x2019;ll also add a test for sufficient timesteps to the scripting, before the python code</td>
</tr>
<tr>
<td>June 27, 2019</td>
<td>Joe Vaughan</td>
<td>Modify WACCM to BCON script to fail over to redate prev day.</td>
<td>~airpact5/AIRHOME/run_ap5_day1/bcon_WACCM/run_waccm2bcon_py2_10step_fs.csh</td>
<td>If WACCM files are not available, m3tshft to redates previous day BCON for</td>
</tr>
<tr>
<td>June 5, 2019</td>
<td>Joe Vaughan</td>
<td>AIRPACT5 maseter4all.csh script modified to delay until ~ midnight</td>
<td>~airpact5/AIRHOME/run_ap5_day1.master4all.csh</td>
<td>Ranil saw a problem with fires being missed. Farren diagnosed the problem as the timing of the bluesky/smartfire run was late relative to fireemiss script, causing new fires to be missed. Modifying master4all.csh for day1 to delay submits &amp; qsubs until ~midnight. Downstream effects on day2 are uncertain and should be checked.</td>
</tr>
<tr>
<td>April 15, 2019</td>
<td>Joe Vaughan</td>
<td>Email on WACCM from Louisa Emmons at NVAR</td>
<td>WACCM results are used for BCON</td>
<td>Hi all - We have just created this list to help keep you informed of the status of WACCM forecasts: <a href="https://www2.acom.ucar.edu/acresp/forecasts-and-near-real-time-nrt-products">https://www2.acom.ucar.edu/acresp/forecasts-and-near-real-time-nrt-products</a> If you would not like to receive these updates, let me know. The WACCM forecasts are currently delayed due to delays in the GEOS5 forecasts last week, followed by some NCAR computers being off over the weekend. We hope to have everything running again in the next day or so. Louisa -- Louisa Emmons Atmospheric Chemistry Observations and Modeling (ACOM) Lab National Center for Atmospheric Research Boulder CO 80307-3000 <a href="mailto:emmons@ucar.edu">emmons@ucar.edu</a> V: 303-497-1491</td>
</tr>
<tr>
<td>February 6, 2019</td>
<td>Joe Vaughan</td>
<td>Fixed bug causing DONE files to contain erroneous time stamps</td>
<td>Fixed Urbanova script run_check4postcctmerrors.csh</td>
<td>The Urbanova 1.33-km nest within AIRPACT5 was running a run_check4postcctmerrors.csh script that was overwriting the AIRPACT5 DONE directory files written by AIRPACT5. Correction was to fix Urbanova scripting to write timestamp files to an Urbanova DONE directory.</td>
</tr>
<tr>
<td>December 6, 2018</td>
<td>Farren Herron-Thorpe</td>
<td>Recalculating all RX burns as piles</td>
<td>Fire Emissions</td>
<td>Recalculating all RX burns from SMARTFIRE as pile burns with the assumption that 300 tons of pile burning occurs per 46 acres of SMARTFIRE reported size.</td>
</tr>
<tr>
<td>November 1, 2018</td>
<td>Joe Vaughan</td>
<td>BCON from WACCM used starting 11/1/18</td>
<td>bcon_WACCM/run_waccm2bcon_py2_10step.csh &amp; etc.</td>
<td>AIRPACT5 changed over to using BCON files extracted from WACCM model results. Codes are here: ~airpact5/AIRHOME/run_ap5_day1/bcon_WACCM As with other airpact5 stuff, the master4all script in ~airpact5/AIRHOME/run_ap5_day1 invokes submit scripts that generate and qsub(mit) the qsub scripts for the requested date. The master4all.csh script calls the submit_precctm_WACCM-bcon.csh script which builds and submits the qsub4precctm.csh script which runs the run_waccm2bcon_py2_10step.csh script which gets the current two days&apos; WACCM files and reads them, rewriting and redating (m3tshift) a BCON template found in /data/airpact5/misc/WACCM_for_BCON/bcon_cb05_10by6hr_template.ncf</td>
</tr>
<tr>
<td>October 30, 2018</td>
<td>Joe Vaughan</td>
<td>License statement for AIRPACT operations</td>
<td>MCIP, SMOKE, CMAQ, models-3 io/api</td>
<td>========= N.B. LICENSES: AIRPACT relies on various software that are for open use by the community. Licensing for the IO/API system that supports the MODELS-3 software including MCIP, SMOKE, and CMAQ are such as this for SMOKEv3.5.1: The I/O API source code and documentation are copyright &#xA9; 1992-2002 MCNC and Carlie J. Coats, Jr., &#xA9; 2003-2013 BAMS, &#xA9; 2005- Carlie J. Coats, Jr., and &#xA9; 2014- UNC Institute for the Environment. The library source code is distributed under the GNU Lesser (library) Public License (LGPL) Version 2.1, and the tools-program source code is distributed under the GNU General Public License, Version 2, subject to copyright-statement retention constraints. See the Notices: Copyright, and Acknowledgements page. CMAQ is an active open-source development project of the U.S. EPA that consists of a suite of programs for conducting air quality model simulations. CMAQ is supported and distributed by the CMAS Center. (<a href="https://www.cmascenter.org/cmaq/">https://www.cmascenter.org/cmaq/</a>) And this in CMAQ 4.6: This program uses the EPA-AREAL/MCNC-EnvPgms/BAMS Models-3 I/O Applications Programming Interface, [I/O API] which is built on top of the netCDF I/O library (Copyright 1993, 1996 University Corporation for Atmospheric Research/Unidata Program) and the PVM parallel-programming library (from Oak Ridge National Laboratory). Copyright (C) 1992-2002 MCNC and Carlie J. Coats, Jr., and 2003-2006 Baron Advanced Meteorological Systems, LLC and released under the GNU LGPL License, version 2.1. See URL <a href="http://www.baronams.com/products/ioapi/LGPL.txt">http://www.baronams.com/products/ioapi/LGPL.txt</a> Carlie refers us to this statement: <a href="https://cjcoats.github.io/ioapi/NOTICES.html">https://cjcoats.github.io/ioapi/NOTICES.html</a> Basically, the I/O API itself, and its documentation is under the Free Software Foundation&apos;s Lesser Gnu Public License 2.1 (the GNU &quot;library&quot; license); the &quot;m3tools&quot; programs are under the FSF Gnu Public License 2.0. All of this with &quot;must maintain copyright statement&quot; and &quot;must distinguish any changes you make&quot; clauses. Carlie J. Coats, Jr., Ph.D. 6502 Glen Forest Dr. home: (919) 493-7695 Chapel Hill, NC 27517 <a href="mailto:carlie@jyarborough.com">carlie@jyarborough.com</a> Senior Software Engineer <a href="mailto:cjcoats@email.unc.edu">cjcoats@email.unc.edu</a> UNC Institute for the Environment <a href="http://www.ie.unc.edu">www.ie.unc.edu</a> 100 Europa Dr., Suite 490 / Campus Box 1105 Tel 919.843.5951 Chapel Hill, NC 27599-1105 Fax 919.966.9920 ==============</td>
</tr>
<tr>
<td>October 26, 2018</td>
<td>Joe Vaughan</td>
<td>Add short delay to DAY2 CMAQ to avoid not finding CGRID file from DAY1</td>
<td>modified ~airpact54/AIRHOME/run_ap5_day2/blueprints/blueprint_qsub_cctm.txt</td>
<td>added &quot;sleep 120&quot;</td>
</tr>
<tr>
<td>October 17, 2018</td>
<td>Joe Vaughan</td>
<td>New control against spurious resubmittals from WRF restarts attempting restart of AIRPACT5</td>
<td>rainier: ~empact/AQSIM_AIRPACT5_wMCIP4.3.pl</td>
<td>When AQSIM_AIRPACT5_wMCIP4.3.pl stars, it touches a date-named file in AIRRUN5/SUBMITTED. If such a file already exists then that date is not restarted.</td>
</tr>
<tr>
<td>October 8, 2018</td>
<td>Farren Herron-Thorpe</td>
<td>Turned off fugitive dust sector</td>
<td>Area Source Emissions</td>
<td>Turned off fugitive dust now that rainy season is starting</td>
</tr>
<tr>
<td>August 27, 2018</td>
<td>Farren Herron-Thorpe</td>
<td>Reduced RWC Fireplace Emissions for PSCAA counties</td>
<td>Area Source Emissions</td>
<td>Replaced RWC Fireplace emissions for PSCAA counties with EPA tool values. This greatly reduces those values.</td>
</tr>
<tr>
<td>August 21, 2018</td>
<td>Joe Vaughan</td>
<td>Added Curtain plots generation requested by PSCAA (not on website)</td>
<td>qsub4plot_cctm.csh and run_plot_cctm.csh</td>
<td>Added S-N curtain plot at col 62 and W-E curtain plot at row 198, for CO, O3 and PM2.5.</td>
</tr>
<tr>
<td>August 16, 2018</td>
<td>Joe Vaughan</td>
<td>UW&apos;s WRF forecast has updated to use aerosols.</td>
<td>the WRF GFS forecast at UW, which is used by AIRPACT</td>
<td>David Ovens emailed that the WRF runs now use GEOS-5 aerosol. See here: <a href="https://atmos.washington.edu/wrfrt/aerosol.html">https://atmos.washington.edu/wrfrt/aerosol.html</a></td>
</tr>
<tr>
<td>July 13, 2018</td>
<td>Farren Herron-Thorpe</td>
<td>Reduced Fire Emissions and changed plume rise.</td>
<td>Fire Emissions</td>
<td>SMARTFIRE2 over-estimates fire size now that VIIRS and other platforms are feeding hot-spots into HMS. Fire size is now divided by 3 per Susan O&apos;Neil&apos;s recommendation. Wei Zhang&apos;s plume rise method is also now implemented. Emissions for &quot;water&quot; fuel category is now switched to the &quot;unknown&quot; factors (previous &quot;water&quot; fuels defaulted to very high fuel loading).</td>
</tr>
<tr>
<td>May 11, 2018</td>
<td>Joe Vaughan</td>
<td>Updating MCIP from 3.6 to 4.3 and restructuring aeolus scripts</td>
<td>rainier: AQSIM_AIRPACT.pl -&gt; AQSIM_AIRPACT5_wMCIP4.3_CLEARSKY2.pl and aeolus: AIRHOME/run_ap5_day[1-2]</td>
<td>see file: AIRPACT5 update 051118.docx. Previously the day1 MCIP files were scp&#x2019;d into the day1-dated directory under AIRRUN/<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>Y</mi><mi>E</mi><mi>A</mi><mi>R</mi></mrow><mi>a</mi><mi>n</mi><mi>d</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>d</mi><mi>a</mi><mi>y</mi><mn>2</mn><mi>M</mi><mi>C</mi><mi>I</mi><mi>P</mi><mi>f</mi><mi>i</mi><mi>l</mi><mi>e</mi><mi>s</mi><mi>w</mi><mi>e</mi><mi>r</mi><mi>e</mi><mo stretchy="false">(</mo><mi>a</mi><mi>l</mi><mi>s</mi><mi>o</mi><mo stretchy="false">)</mo><mi>s</mi><mi>c</mi><mi>p</mi><mtext>&#x2019;</mtext><mi>d</mi><mi>i</mi><mi>n</mi><mi>t</mi><mi>o</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>d</mi><mi>a</mi><mi>y</mi><mn>1</mn><mo>&#x2212;</mo><mi>d</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>d</mi><mi>d</mi><mi>i</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi><mi>y</mi><mi>u</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi><mi>A</mi><mi>I</mi><mi>R</mi><mi>R</mi><mi>U</mi><mi>N</mi><mi>D</mi><mi>A</mi><mi>Y</mi><mn>2</mn><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex">{YEAR} and the day2 MCIP files were (also) scp&#x2019;d into the day1-dated directory under AIRRUNDAY2/</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span><span class="mord mathnormal">an</span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.07153em;">MC</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">es</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">ere</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">so</span><span class="mclose">)</span><span class="mord mathnormal">sc</span><span class="mord mathnormal">p</span><span class="mord">&#x2019;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">in</span><span class="mord mathnormal">t</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">dd</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">ory</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">RR</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">2/</span></span></span></span>{YEAR}. And while the day1 emissions and results, etc., were written into the day1-dated directory (as expected), the day2 emissions and results, etc., were written into the day2-dated directory. The effect of this was that the MCIP for day2 and the results from day2 were in different directories; the update addresses this inconsistency. Now, with this update the day1 CMAQ emissions and results still go into the day1-dated directory under AIRRUN/<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>Y</mi><mi>E</mi><mi>A</mi><mi>R</mi></mrow><mo separator="true">,</mo><mi>b</mi><mi>u</mi><mi>t</mi><mo stretchy="false">(</mo><mi>n</mi><mi>o</mi><mi>w</mi><mo stretchy="false">)</mo><mi>t</mi><mi>h</mi><mi>e</mi><mi>d</mi><mi>a</mi><mi>y</mi><mn>2</mn><mi>C</mi><mi>M</mi><mi>A</mi><mi>Q</mi><mi>e</mi><mi>m</mi><mi>i</mi><mi>s</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>s</mi><mi>a</mi><mi>n</mi><mi>d</mi><mi>r</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mi>s</mi><mi>g</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi><mi>o</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>d</mi><mi>a</mi><mi>y</mi><mn>2</mn><mo>&#x2212;</mo><mi>d</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>d</mi><mi>d</mi><mi>i</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>o</mi><mi>r</mi><mi>y</mi><mi>u</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi><mi>A</mi><mi>I</mi><mi>R</mi><mi>R</mi><mi>U</mi><mi>N</mi><mi>D</mi><mi>A</mi><mi>Y</mi><mn>2</mn><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex">{YEAR},but (now) the day2 CMAQ emissions and results go into the day2-dated directory under AIRRUNDAY2/</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.10903em;">CM</span><span class="mord mathnormal">A</span><span class="mord mathnormal">Q</span><span class="mord mathnormal">e</span><span class="mord mathnormal">mi</span><span class="mord mathnormal">ss</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">an</span><span class="mord mathnormal">d</span><span class="mord mathnormal">res</span><span class="mord mathnormal">u</span><span class="mord mathnormal">lt</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">o</span><span class="mord mathnormal">in</span><span class="mord mathnormal">t</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&#x2212;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">dd</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">ory</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">RR</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">2/</span></span></span></span>{YEAR}, along with the MCIP files for that day. The updated scripting on Aeolus is now found under ~airpact5/AIRHOME/run_ap5_day1 and ~airpact5/AIRHOME/run_ap5_day2. Updates were mostly to improve the reliability of script execution by addressing more of the dependencies of one job upon other preceding jobs.</td>
</tr>
<tr>
<td>May 1, 2018</td>
<td>Farren Herron-Thorpe</td>
<td>Turned on fugitive dust sector</td>
<td>Area Source Emissions</td>
<td>Turned back on fugitive dust now that rainy season is over</td>
</tr>
<tr>
<td>April 16, 2018</td>
<td>Joe Vaughan</td>
<td>Modified the AIRPACT5 species extraction for AIRNow sites resulting in headered file with CO, NO, NO2, NOX, O3, PM2.5, PM10, SO2 &amp; WSPM25.</td>
<td>~/AIRHOME/run_day[1-2]/post/cctm/extract_AIRNow/run_site_extract_airpact_v6.csh</td>
<td>Updated scripting to get daily list of sites from AIRNow. Updated code to write a header and nine species: CO, NO, NO2, NOX, O3, PM2.5, PM10, SO2 &amp; WSPM25.</td>
</tr>
<tr>
<td>February 2, 2018</td>
<td>Joe Vaughan</td>
<td>Switch from using MOZART4 for BCON to link to monthly BCON</td>
<td>~/AIRHOME/run_day1/bcon/run_mozart42bcon.csh</td>
<td>With Louisa Emmons deprecating MOZART4 runs at NCAR, we need to switch to using CAM-chem results. While we work on that, this change uses old 2015 monthly BCON files.</td>
</tr>
<tr>
<td>November 16, 2017</td>
<td>Joe Vaughan</td>
<td>BCON logic added to use previous day BCON, redated.</td>
<td>/home/airpact5/AIRHOME/run_day1/bcon/run_mozart42bcon.csh</td>
<td>Because AIRPACT5 frequently fails to obtain MOZART4 data to use for BCON, and so defaults to using old monthly average profiles from 2015 MOZART4 (which used an earlier speciation not in synch with current CBO5-aero6 in AIRPACT5), we added logic to redate the previous day BCON, if available, for current day BCON.</td>
</tr>
<tr>
<td>October 18, 2017</td>
<td>Joe Vaughan</td>
<td>Changed recently added WILDFIRE SEASON switch (env var) to non-wildfire setting</td>
<td>/home/airpact5/AIRHOME/run_fastscratch/set_AIRPACT_fire_season.csh</td>
<td>Switched to non-wildfire season on this date.</td>
</tr>
<tr>
<td>October 16, 2017</td>
<td>Farren Herron-Thorpe</td>
<td>Turned off fugitive dust sector</td>
<td>Area Source Emissions</td>
<td>Turned off fugitive dust now that rainy season is starting</td>
</tr>
<tr>
<td>October 13, 2017</td>
<td>Farren Herron-Thorpe</td>
<td>Fire Type Parsing</td>
<td>SMARTFIRE / BlueSky</td>
<td>Modified python code on bluesky virtual server so that fires detected in the &quot;FIPS List&quot; are reclassified as pile burns (affects emissions). Also changed fire icon for web display so that piles and unknown fuel (likely ag.) get a unique icon.</td>
</tr>
<tr>
<td>September 22, 2017</td>
<td>Farren Herron-Thorpe</td>
<td>Point Source Emissions Overlays</td>
<td>AIRPACT GMAPs Page</td>
<td>Generated new Point Source Emissions Overlays for the web. Airports/Heliports, Food and Ag., and other Point Source layers are in the emissions menu. Pop-ups show the annual emissions used in AIRPACT.</td>
</tr>
<tr>
<td>August 10, 2017</td>
<td>Farren Herron-Thorpe</td>
<td>Fixed Weekly Mobile TPRO for #408</td>
<td>Temporal Profiles</td>
<td>Fixed weekly mobile tpro for #408. Was ordered as Sunday - Saturday and fixed to Monday - Sunday.</td>
</tr>
<tr>
<td>August 5, 2017</td>
<td>Joe Vaughan</td>
<td>Corrected MOZART import and conversion for CBO5 BCON</td>
<td>/home/airpact5/AIRHOME/build/MOZART4_bcon/cb05 and /home/airpact5/AIRHOME/run_fastscratch/qsub4plot_bcon.csh</td>
<td>Farren noticed that the amount of PM2.5 that AIRPACT was showing near the northern boundary, located in southern BC, seemed low. He thought that reflected not getting adequate PM2.5 from fires in BC. We were already generating BCON animations for O3 and CO on the four boundaries, and I have added PM2.5: <a href="http://www.lar.wsu.edu/airpact/ap5_bcon.php#">http://www.lar.wsu.edu/airpact/ap5_bcon.php#</a> For the BCON graphics, I summed the values in our AIRPACT5 BCON files for these species (aerosol mechanism aero6): AECJ ANO3J ANH4J APOCI APOCJ APNCOMI APNCOMJ ASO4J ANAJ ACLJ Nucleation/Aitkin mode are post-scripted with I. Accumulation mode species are post-scripted with J. Coarse mode species are post-scripted with K (none are included in PM2.5 summation). We convert the downloaded MOZART BCON data to AIRPACT5 CB05_aero6 species as follows: MOZART-4 output file converted to AIRPACT5 domain BCON-formatted file Units are converted Mechanism conversion is applied. I reviewed these codes and I modified the mechanism conversion (step 3) code to reflect the newer speciation in CB05 w/ aero6 used for our CMAQ v5.0.2 build.</td>
</tr>
<tr>
<td>July 21, 2017</td>
<td>Joe Vaughan</td>
<td>Saving the aod550nm2d file, daily</td>
<td>masterCleanupAndSave.csh</td>
<td>added move of aod550nm2d file, to the aconc dir in the save space, to masterCleanupAndSave.csh.</td>
</tr>
<tr>
<td>June 26, 2017</td>
<td>Joe Vaughan</td>
<td>Modified masterCleanupAndSave.csh to save more CGRID files.</td>
<td>~/AIRHOME/run_fastscratch/cleanup/masterCleanupAndSave.csh</td>
<td>Script was saving the 14th and last day of month&apos;s CGRID file. Added save for 07th and 21st.</td>
</tr>
<tr>
<td>May 23, 2017</td>
<td>Farren Herron-Thorpe</td>
<td>Turned on fugitive dust sector</td>
<td>Area Source Emissions</td>
<td>Turned back on fugitive dust now that rainy season is over</td>
</tr>
<tr>
<td>May 1, 2017</td>
<td>Joe Vaughan</td>
<td>BCON on all four domain boundaries for CO and O3 is plotted.</td>
<td>masterAfterBluesky.csh, qsub4plot_bcon.csh, plot_<em><em>bcon</em></em>.csh</td>
<td>Implemented in masterAfterBluesky.csh; this should be moved down to the run_plot_noncctm.csh codes.</td>
</tr>
<tr>
<td>April 5, 2017</td>
<td>Farren Herron-Thorpe</td>
<td>Dividing Heat Flux by 3 for Fires</td>
<td>BlueSky</td>
<td>Wei Zhang at IDEQ found a bug in SMOKE that was multiplying heat content by 3 for fire processing. So, the python conversion code (fire_locations to ORL) has been modified to divide heat by 3.</td>
</tr>
<tr>
<td>March 23, 2017</td>
<td>Farren Herron-Thorpe</td>
<td>Ventilation Index graphics generation</td>
<td>Met Graphics</td>
<td>Added ventilation index graphics generation to the day 1 and day 2 run_ncl_met.csh script. VI = PBL Height x 20 m wind speed.</td>
</tr>
<tr>
<td>February 22, 2017</td>
<td>Joe Vaughan</td>
<td>Fix for bug in scripting for finding CGRID for ICON from two days ago.</td>
<td>/home/airpact5/AIRHOME/run_fastscratch/cctm/run_cctm.csh</td>
<td>The two-days-ago date scripting had a bug, a typo, that caused script to fail to find the CGRID file from the day2 run two days before, when the CGRID from the day before is not found.</td>
</tr>
<tr>
<td>December 7, 2016</td>
<td>Joe Vaughan</td>
<td>Added module call for openmpi/1.6pgi</td>
<td>~/AIRHOME/run_fastscratch/cctm/run_cctm.csh</td>
<td>Added this stmt: module load openmpi/1.6pgi</td>
</tr>
<tr>
<td>December 1, 2016</td>
<td>Farren Herron-Thorpe</td>
<td>Updated WA Road Dust Emissions</td>
<td>nonpoint afdust</td>
<td>Updated WA road dust emissions so they are no longer precipitation adjusted. This will allow the dust suppression module to work as intended. Note that despite this update, afdust is currently turned off, so there is no fugitive dust in the forecasts during rainy season until dust suppression module is completely installed.</td>
</tr>
<tr>
<td>October 7, 2016</td>
<td>Farren Herron-Thorpe</td>
<td>Turned off fugitive dust for wet season</td>
<td>AFDUST</td>
<td>Dust supression module not yet installed so temporarily turned off area fugitive dust emissions.</td>
</tr>
<tr>
<td>October 4, 2016</td>
<td>Joe Vaughan</td>
<td>Added write of DONE time for DAY1 and txt to cell phone (JKV)</td>
<td>run_check4postcctmerrors.csh</td>
<td>Added &quot;echo <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mi>E</mi><mi>A</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">YEAR</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>MONTH<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mi>A</mi><mi>Y</mi><mi mathvariant="normal">&#x2018;</mi><mi>d</mi><mi>a</mi><mi>t</mi><mi>e</mi><msup><mo>+</mo><mo mathvariant="normal" lspace="0em" rspace="0em">&#x2032;</mo></msup></mrow><annotation encoding="application/x-tex">DAY `date +&apos;%C%y/%m/%d %H:%M&apos;` &gt; !</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.835222em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">&#x2018;</span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord"><span class="mbin">+</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">&#x2032;</span></span></span></span></span></span></span></span></span></span></span></span>AIRDONE/<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mi>E</mi><mi>A</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">{YEAR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span></span>{MONTH}<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>D</mi><mi>A</mi><mi>Y</mi></mrow><mn>00</mn><mi mathvariant="normal">&quot;</mi><mi>a</mi><mi>n</mi><mi>d</mi><mi>a</mi><mi>d</mi><mi>d</mi><mi>e</mi><mi>d</mi><mi mathvariant="normal">&quot;</mi><mi>e</mi><mi>c</mi><mi>h</mi><mi>o</mi><mi mathvariant="normal">&quot;</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi><mi>c</mi><mi>c</mi><mi>t</mi><mi>m</mi><mi>B</mi><mi>A</mi><mi>D</mi><mi>f</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">{DAY}00&quot; and added &quot;echo &quot;postcctm BAD for</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span><span class="mord">00&quot;</span><span class="mord mathnormal">an</span><span class="mord mathnormal">d</span><span class="mord mathnormal">a</span><span class="mord mathnormal">dd</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord">&quot;</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">h</span><span class="mord mathnormal">o</span><span class="mord">&quot;</span><span class="mord mathnormal">p</span><span class="mord mathnormal">os</span><span class="mord mathnormal">t</span><span class="mord mathnormal">cc</span><span class="mord mathnormal">t</span><span class="mord mathnormal">m</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.02778em;">or</span></span></span></span>currentday &quot;</td>
</tr>
<tr>
<td>August 24, 2016</td>
<td>Farren Herron-Thorpe</td>
<td>Added VOC Emissions for Pt Source CAFOs to WA and ID</td>
<td>Emissions</td>
<td>Added VOCs to CAFO emissions based on VOC/NH3 ratio. SCC 2805018xxx, 2805019xxx, 2805021xxx, 2805022xxx, 2805022xxx, 2805023xxx; ratio = 0.25; Dairies. SCC 30202001, 2805002000; ratio = 0.2 ; Beef Cattle Feedlots.</td>
</tr>
<tr>
<td>August 11, 2016</td>
<td>Farren Herron-Thorpe</td>
<td>Updated RWC Monthly TPRO for USA</td>
<td>Temporal Profiles (Emissions)</td>
<td>Used Erik Saganic&apos;s UV-BC study as the basis for the monthly temporal profile for RWC in Western WA, Western OR, NV, and CA. Utah and Canada were not changed. All remaining counties set to the Montana default profile.</td>
</tr>
<tr>
<td>August 1, 2016</td>
<td>Farren Herron-Thorpe</td>
<td>FCCS Fuel Loading increase</td>
<td>BlueSky/FCCSv2</td>
<td>Added 1 inch of duff depth to fuel categories in FFCSv2 that were of type shrub, grassland, or &quot;urban&quot;. Also harmonized the Idaho Fescue loadings which were inconsistent.</td>
</tr>
<tr>
<td>July 22, 2016</td>
<td>Farren Herron-Thorpe</td>
<td>Updated AG Till &amp; Harvest Monthly TPRO for USA</td>
<td>Temporal Profiles (Emissions)</td>
<td>Used soil temperature data and agricultural harvesting statistics specific to WA to create custom monthly temporal profiles for AG Tilling (SCC 2801000003; #4017) and AG Harvesting (SCC 2801000005; #4016)</td>
</tr>
<tr>
<td>May 15, 2016</td>
<td>Farren Herron-Thorpe</td>
<td>Modified BlueSky Setup</td>
<td>Fire Emissions Processing</td>
<td>Replaced fccs2_lookup.csv with the original, eliminating the extra duff that was applied previously. Modified LAR BSF start time to start earlier so it is ready before MCIP, even though we will get less recent fires. Changed SMARTFIRE setup to only query for 24 hr old fires (instead of 48 hrs).</td>
</tr>
<tr>
<td>May 2, 2016</td>
<td>Farren Herron-Thorpe</td>
<td>Updated Oregon Title V AOP pt sources to 2014</td>
<td>Point Source Emissions</td>
<td>Airports, Heliports, and Farms are still circa 2011</td>
</tr>
<tr>
<td>April 27, 2016</td>
<td>Serena Chung</td>
<td>switched from 21 layers to 37 layers</td>
<td>all components</td>
<td>Previously, layer collapsing was applied to reduce WRF&apos;s 37 layers to 21 layers. Now all WRF layers are used. This was instigated by what appeared to be unrealistically large amount of upper-layer ozone gettgin to the surface.</td>
</tr>
<tr>
<td>February 21, 2016</td>
<td>Serena Chung</td>
<td>Woodstove PM Tracer Added</td>
<td>CMAQ</td>
<td>Woodstove PM (WSPM) tracer has been implemented as a non-reactive (NR) species to the CMAQ simulation. Note CMAQ handles transport and deposition of NR species as if they are in the gas phase.</td>
</tr>
<tr>
<td>February 4, 2016</td>
<td>Farren Herron-Thorpe</td>
<td>Updated BlueSky/FCCSv2 Fuel Loading</td>
<td>Fire/BlueSky</td>
<td>Added 1 inch of duff depth to all fuel categories in FCCSv2</td>
</tr>
<tr>
<td>January 16, 2016</td>
<td>Serena Chung</td>
<td>Oregon RWC Emission Update</td>
<td>SMOKE</td>
<td>Residential Woodstove Emission for Oregon was updated by Farren.</td>
</tr>
<tr>
<td>December 1, 2015</td>
<td>Joe Vaughan</td>
<td>AIRPACT-5 begins operational testing</td>
<td>Top level AIRPACT-5 scripting being run via cron entry</td>
<td></td>
</tr>
</tbody>
</table>

      </div>
      <div class="md-sidebar-toc"><ul>
<li><a href="#airpact-5-change-log">AIRPACT-5 Change Log</a></li>
</ul>
</div>
      <a id="sidebar-toc-btn">&#x2261;</a>
    
    
    
    
    
    
    
    
<script>

var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')
sidebarTOCBtn.addEventListener('click', function(event) {
  event.stopPropagation()
  if (document.body.hasAttribute('html-show-sidebar-toc')) {
    document.body.removeAttribute('html-show-sidebar-toc')
  } else {
    document.body.setAttribute('html-show-sidebar-toc', true)
  }
})
</script>
      
  
    </body></html>