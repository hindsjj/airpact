|Date|Person|Description|Component/Module|Details|
|----|------|-----------|----------------|-------|
January 20, 2014 |Joe Vaughan |BlueSky w/ SMARTFire on rainier failing |BlueSky_3.2.0 on rainier accessing SMARTFive v1 over internet |Failure seems to be caused by SMARTFire v1 changes. Summary of BlueSky data flow follows. Two months in 2012, August and September, were reruns done in 2013 for both AIRPACT3 and AIRPACT4. In 2013 into 2014 (201304-201401) BlueSky with SMARTFIre (v1) was running in synchrony w/ daily forecasts for AIRPACT-3.  
December 18, 2013 |Joe Vaughan |AIRPACT-3 fails due to cluster Breezy's crash |All AIRPACT-3 components running on Breezy at WSU |A scheduled power outage at WSU that ran over-long caused the loss of battery backup and a hard crash for the cluster Breezy. Breezy's comonents being quite old, and beyond available upgrade support contributes to the probability that the system won't be brought online successfully ever again. 
July 23, 2013 |Joe Vaughan |Shasta Cty, CA, NH3 Emissions Corrections |Point emissions for AIRPACT-3 |A problem was found for Shasta Cty, CA for two point NH3 sources. Farren looked into the problem and consulted with Sally and jeremy. Eroneous entries from inventory (2005?) appear to be annual emisisons for NH3 provided in pounds instead of tons: 06089 45162843 WHEELABRATOR SHASTA E.C.I. NH3 49200 06089 45162851 BURNEY FOREST PRODUCTS NH3 225000 These emission rates were located in the file ~airpact/AIRBASE/emis21/pt_base/inventory/pnts_dat/NH3.ncf as sources 304 (with 49200) and 308 (with 225000) (records 7 & 8). The Fortran in Fix_NH3.F (~airpact/AIRBASE/emis21/Fix_ShastaCty_NH3) reads in the old NH3.ncf file now found at ../pnts_dat/old/NH3.ncf, and divides the ofending annual emission rates by 2000. The new file is ~airpact/AIRBASE/emis21/pt_base/inventory/pnts_dat/NH3.ncf. The fixed NH3.ncf is in the expected location. A copy of the old NH3.ncf is in the directory ../pnts_dat/old  
April 24, 2013 |Joe Vaughan |EPA Failsafe Run Terminated |AIRPACT_WRF2_breezy.pl on rainier |Bob K. at the EPA has truned off the EPA's failsafe CMAQ run theat served as a backup to the WSU CMAQ run. Script AIRPACT_WRF2_breezy.pl was modified to turn off scp of MCIP files to the EPA and to no longer submit teh failsafe postprocessing script failsafe_05.pl. 
February 13, 2013 |Joe Vaughan |Updated AIRPACT-3 AQI colors for PM2.5 |Rolling average gifs code for pave and for flash. |NAAQS for Annual PM2.5 has changed from 15 to 12 ug/m3 and the AQI color table has been adjusted accordingly. 
October 31, 2012 |Joe Vaughan |AIRPACT-3 Sept-Oct 2012, notes |BCON, WFIRE, aeolus cluster |Sept thru Oct 2012 Notes. We turned on processing to run SMARTFIRE via BlueSky Framework to get wildfire emissions into AIRPACT-3 at the beginning of September. We had some days in Sept when SMARTFURE returned no fires and we took this up with AIRFire and they with STI. In October we ran into problems of both intermittency of the MOZART (MOPITT-assimilating) boundary conditions coming through and also wildfire processing completing correctly. Also, apparent disk read problems on the superannuated breezy cluster resulted in job halts due to failing to load library executables and some times failures to read existing files. The MOZART runs assimilating MOPITT satellite CO and providing us with our boundary conditions failed to run (at NCAR) for the 29th, 30th and 31st. Our collaborator Louisa Emmons at NCAR says this is because her runs have been unable to get NOAA GOES-5 files, perhaps related to system loads associated with Hurricane Sandy. Without the MOPITT-Mozart BCON arriving, we defaulted to the standard BCON profiles, which was still stored on the disk where we've been getting intermittant read problems. Sometimes reads from that disk produce errors and kill jobs. Moving the BCON default profiles and modifying scripts accordingly is underway. Also, the wildfire emission processing we've been running with of late has been producing fires in SW Oregon that are suspect. The fires didn't make it into the emissions for the 25th, the 28th, the 29th, but did for the 30th and 31st.. As of today, I will turn off the wildfire emissions integration into AIRPACT-3, for runs beginning Nov 1. 
January 31, 2012 |Jen Hinds |added old airpact-3 url as redirect to current airpact url |web pages and urls |A new url was re-created at lar.wsu.edu/airpact-3 which redirects to the newer url at lar.wsu.edu/airpact. This was done because some publications and web sites have the older url embedded in locations that we have no ability to update. 
January 24, 2012 |Joe Vaughan |GEOSS satellite imagery added |AIRPACT_WRF2_breezy_64hr.pl on rainier |AIRPACT_WRF2_breezy_64hr.pl was modified to call: get_GEOSS_AIRS_CO.pl, get_GEOSS_AIRS_O3.pl, and get_GEOSS_AIRS_O3.pl to bring back AIRS nd OMI imagery for CO & O3 and NO2. Runs nightly. 
December 29, 2011 |Joe Vaughan |Finessed transition to 2012 by turning off biogenic emissions and dynamic boundary conditions. Restored 010212 |AIRPACT_WRF2_breezy_64hr.pl on rainier and masterAIRPACT.node102_64hr_WRF2_MBC_noBiog.csh on breezy |Comments in AIRPACT_WRF2_breezy_64hr.pl on rainier: # Temporary fix for New Year's transition -- don't run biogenics for emissions. JKV 122911. # Restored biogenics emissions after New Year's transition. JKV 010212. 
October 20, 2011 |Joe Vaughan |Shift in MCIP extraction of WRF 12-km grid for AIRPACT-3 |MCIP run from mcip3.3_wrf_eta.csh |X0 changed from 45 to 60. Changed from IfTer = 'F' to 'T' and specified InTerFile = $InTerDir/geo_em.d02.nc where InTerDir = /home/disk/rainier_empact/nairpact/domains/2011-10-17 
September 5, 2011 |Joe Vaughan |New scp of MCIP to aeolus added |script: AIRPACT_WRF2_breezy_64hr.pl | 
April 22, 2011 |Joe Vaughan |Notice of recent MOPITT assimilations failure -- last 2 wks |BCON |Louisa Emmons reports that the AIRPACT run of 4/22 would be the first in a couple weeks receiving MOZART results with properly assimilated MOPITT CO.  
March 22, 2011 |Joe Vaughan |Backup modified to handle MOPITT assimilation MOZART-based Boundary Condition files |on Breezy: /master2/home/airpact/AIRHOME/RUN/post/bkup/bkupMd5sumMaster_raid3.csh |# This script is found on breezy.cmer.wsu.edu in # /master2/home/airpact/AIRHOME/RUN/post/bkup/bkupMd5sumMaster_raid3.csh # This backup script takes a single argument, YYYYMM for year and month, # from the command line upon being invoked, and prepares 25-hr backup versions # of critical fiels for AIRPACT results analysis or reruns. # The script will process all directories identified by the argument YYYYMM, # assumed to contain AIRPACT results, that are found at /raid3/airpact/AIRRUN/bkupRUN/${YYYYMM}*00, # processing MCIP, CCTM and BCON subdirectories therein. # M3XTRACT is run to convert 65-hr CCTM and MCIP netcdf files into 25- hr files. # Including Hour 08Z (time step 0) through hour 32Z (time step 24) insures that each # initial condition is saved both as the first hour in a date-named run directory's # CCTM CONC file and as the last hour of the previous days date-named run directorys CCTM CONC file. # A FORTRAN-built BCON_trim.exe code is run by like-named scripting to process BCON files # into 25-hour BCON files for backup. # These codes are found in /master2/home/airpact/AIRHOME/RUN/post/BCON_trim. # All resulting 25-hr files are written in # /raid3/airpact/AIRRUN/bkupRUN/BKUP_MONTH/YEAR/MM/YYYYMMDD00 directories. # The backup scripting is generally subitted as follows: # cd /master2/home/airpact/AIRHOME/RUN/post/bkup # bkupMd5sumMaster_raid3.csh yyyymm >&! yyyymm_bu.log & # After backups are completed for a specific month, JKV generally logs into # the linux backup and storage machine as follows: # ssh -X -l airpact lar-usb.ce.wsu.edu # Then secure copy is used to copy across the entire MM directory from # /raid3/airpact/AIRRUN/bkupRUN/BKUP_MONTH/YEAR/MM 
February 4, 2011 |Joe Vaughan |FAIL_SAFES for tracking completion by failsafe oepration |script failsafe_05.pl on rainier |Added new dir FAIL_SAFES. Script will write done time into new dir for failsafe runs. 
January 31, 2011 |Joe Vaughan; Farren Herron-Thorpe |Mozart-MOPITT Bound Cond import turned on for Feb 1, 2011 |scripting on Breezy, BCON  |Script in use was saved as masterAIRPACT.node102_64hr_WRF2_013111.csh. New sript linked to old name: ln masterAIRPACT.node102_64hr_WRF2_MBC.csh masterAIRPACT.node102_64hr_WRF2.csh  
January 26, 2011 |Joe Vaughan |CHANGE LOG for AIRPACT-3 ESTABLISHED |ALL |Jen Hinds got us set up with a google sites account. Joe added a top level AIRPACT-3 page with a dependent page for this CHANGE LOG. Events from early 2008 and forward pertaining to AIRPACT-3 are being logged. The page requests that comments and questiones be emailed to Joe Vaughan. The editting of this web site will remain restricted to a few people active in maintaiing AIRPACT-3. 
January 21, 2011 |Joe Vaughan and Jen Hinds |Updates sites list for AIRNow data extraction |scripting and website (database and performance graphing) |Jen extracted a new sites file for the AIRNow reporting sites and Joe implemented for use by the extraction from CMAQ CONC files. 
January 3, 2011 |Joe Vaughan |Turned BEIS3 processing back on |BEIS3 emissions scripting |Modification in script AIRPACT_WRF2_breezy_64hr.pl  
December 29, 2010 |Joe Vaughan |Turned off BEIS3 processing to finese end of year processing |BEIS3 emissions scripting |AIRPACT has failed over New Year's transition due to failure in BEIS3 biogenic emissions processing. Using a noBio emissions script prepared by Serena, AIRPACT-3 was switched temproarily to running without BEIS3. 
July 15, 2010 |Joe Vaughan |AIRPACT runs BlueSky Framework nightly for SMARTFIRE wildfires |Rainier script AIRPACT_WRF2_breezy.pl runs AIRP_BSF_EFO.csh |Runs BlueSky SMARTFIRE for EmissionFilesOnly for AIRPACT-3 date, from 08Z. Then does secure copy to breezy for use there. Scripting for use of wildfire emissions on breezy has not been completed as of March 2011.  
April 20, 2010 |Joe Vaughan |WRF changes deranged CMAQ -- but fixed |WRF |Breakdown in AIRPACT-3 daily forecast runs ws caused by unanticipated effects from changes reported by Cliff and implemented beginning with the 12Z run of April 14th. The 0Z run used by AIRPACT for April 15th showed weird stuff, including errors likely caused by NaN values and failed. Thanks to Serena Chung and David Ovens, the problem was traced to zero-valued LAI from WRF and solved by filtering out the WRF LAI field (using ncks utility) and thereby allowing MCIP to recreate it as a reasonable (non-zero) field.  
March 14, 2010 |Joe Vaughan |CMAQ species increased from 104 to 138 |CMAQ and post processing FORTRAN and scripting |This relates to inclusion of SV species to provide for appropriate ICON data startup for dailyruns. Apparently an earlier code change was not successfully made or lost, and this corrects that oversight.  
March 14, 2010 |Serena Chung |Corrected number of CONC species to before change of 03/09/2009. |CMAQ |GC_CONC.EXT in /raid2/data1/airpact/CMAQv4.6/models/include/release/saprc99tx_ae4_aq_hg_2 was changed back to an earlier version. 
March 1, 2010 |Joe Vaughan |Corrected SW corner of MCIP extraction of domain from WRF |MCIP v3.3 |So, changing the MCIP offset info to shift one cell eastward; set X0 = 45. Corrects back to old MM5 domain; set Y0 = 27 ; set NCOLS = 95 ; set NROWS = 95  
December 26, 2009 |Joe Vaughan |Modified extraction scripts |scripting Website |Modified scripting for AIRNow site extraction to use in database and for website graphics. 
September 1, 2009 |Joe Vaughan  |chaned to scp for AIRPACT-3 site extractions requested by agencies. |scripting |Converted AIRPACT ftp for site extracted data from ftp to scp 
July 13, 2009 |Ray Peterson |Flash animation for Full Domain being tested |Flash animation |Full Domain map in beta test mode  
May 29, 2009 |Joe Vaughan |Wood stove area emissions changed over to use 2008 census-based surrogate from ECY |SMOKE and scripting |A new spatial surrogate based on 2008-census information, provided by WA ECY, is now used for wood stove emissions. 
March 8, 2009 |Ray Peterson |O3 series and WInd barbs added |Flash animation |Ozone series added for all areas. Wind barbs being tested 
March 2, 2009 |Ray Peterson |Added Calendar |Flash animations |Calendar added for choosing animation dates 
February 12, 2009 |Ray Peterson |All domains in production |Flash animations |All domains/windows now in production Changed scales on PM2.5, both hourly and 24hr. 
February 6, 2009 |Ray Peterson |Timeplot tweaked ; added Vancouver B.C.  |Flash animations |Timeplot format tweaked and Vancouver B.C. window now in daily production 
January 30, 2009 |Ray Peterson |Popup window for AIRNow data/info |Flash animation |Puget Sound daily production passed tests and functional. ALSO, AirNow monitor data can now be displayed in a popup window 
January 29, 2009 |Ray Peterson |testing Flash |Flash animations |Puget Sound using 1/29 data and loaded from RAINIER UofW server - test daily production 
January 27, 2009 |Ray Peterson |Adding domains |Flash animations |Added Portland/Willamette Valley and Yakima windows (with Tribal Nation backgrounds) 
January 26, 2009 |Ray Peterson |work on 'mouse over' |Flash animations |Added location button to display lat/long anywhere on map Added overlay layer "mouse over" for more detailed information tags. 
January 9, 2009 |Serena Chung |CMAQ iteration increase for aqchem |CMAQ |Reinstated Joe's change of maximum iteration (ICNTAQ to 9000) in aqchem.F. But may have mistakenly increased number of species in CONC file. 
November 13, 2008 |Joe Vaughan |Strategy meeting for AIRPACT graphics w/ Ray Peterson  |PAVE, Flash, Website |Ray will develop flash animations for sub-domains and entire domain for O3 and PM2.5 criteria pollutants 
November 4, 2008 |Joe Vaughan |Testing MCIP domain cut from WRF |MCIP | 
November 3, 2008 |Joe Vaughan |CMAQ species expanded to 104 to include 10 semi-volatile hydrocarbons |CMAQ and ICON |Diappearance of PM upon start of CMAQ run led to realization that our not saving SV species led to PM being reduced to re-establish equilibrium with SV species that started at 0 in ICON. Fix is to carry SV species in CONC file, and thus using them for ICON. 
November 3, 2008 |Joe Vaughan |Rerun for AIRPACT-3 from Oct 1 with new CMAQ for 104 species |AIRPACT-3 reruns on Breezy |Reran from start of October for 104 species. 
October 21, 2008 |Serena Chung |CMAQ mechanism change and rebuild |CMAQ |Build a version that includes SGTOT_CSL, etc and extra gas-phase species in CCTM_*CONC* output files. But lost change to aqchem of 1/13/2008. 
August 25, 2008 |Serena Chung |Dust module |EROS, CMAQ |scripting on Breezy submits background job for separate run of emissions for dust and CMAQ and postprocessing. This module can be turned off for periods with low expectation for dust. 
August 17, 2008 |Joe Vaughan |Bluesky wildfire/emissions feed failed |SMOKE and Bluesky |The Forest Service server that was providing wildfire emissions failed. Prospects were judged to be poor for resuming these FS operations as constituted. 
July 8, 2008 |Joe Vaughan |Modified wait value on failsafe submission to EPA |AIRPACT scripting on breezy |Changed wait for failsafe data return from EPA mirror operation from 27000 sec to 34200 sec. 
March 15, 2008 |Joe Vaughan |AIRPACT-3 changed over to WRF meteorology |MCIP v3.3 |Ran MCIP on 12-km WRF. New MCIP_fix_header fakes grid to match emissions headers, w/ copy in of GRIDDESC from previous run. On Breezy ran AIRPACT_WRF.csh. Emissions use Laypoint v2.3. 
March 15, 2008 |Joe Vaughan |SMOKE versions in use |SMOKE |SMOKE generally is SMOKE_v2.1 (09302004) but LAYPOINT is SMOKEv2.4 (10292007) 
January 13, 2008 |Joe Vaughan |Inceased iteration count for aqchem |CMAQ  |modified to have “IF ( ICNTAQ .GE. 90000 ) THEN in CMAQ routine aqchem. 
 |Joe Vaughan |Turned off AIRPACT-3 GEOSS calls  |on rainier: AIRPACT_WRF2_breezy_64hr.pl |Now that AIRPACT-4 runs daily, it is no longer necessary to call from AIRPACT-3. 
